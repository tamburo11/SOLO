{"version":3,"sources":["components/keyboard/DimensionsProvider.js","components/keyboard/SoundfontProvider.js","components/keyboard/PianoConfig.js","components/keyboard/Keyboard.js","components/solution/NoteGuess/NoteGuess.js","components/solution/Solution.js","components/main/Main.js","serviceWorker.js","index.js","logo_conservatorio.png","logo_lounge_b.png","logo_SUPSI_60mm_ITA.png","press-usi-logo.png"],"names":["DimensionsProvider","react_default","a","createElement","this","props","children","containerWidth","containerHeight","React","Component","Dimensions","SoundfontProvider","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loadInstrument","instrumentName","Soundfont","instrument","audioContext","format","soundfont","nameToUrl","name","concat","hostname","then","setState","playNote","midiNumber","resumeAudio","audioNode","state","play","activeAudioNodes","assign","defineProperty","stopNote","stop","resume","Promise","resolve","stopAllNotes","values","forEach","node","prevProps","prevState","onLoad","render","isLoading","defaultProps","intervals","value","label","isFixed","Label","className","AutoblurSelect","onChange","event","selectRef","current","blur","createRef","_this$props","otherProps","objectWithoutProperties","ref","PianoConfig","showInstrument","intervalsChanged","newIntervals","_this2","setConfig","onChangeFirstNote","noteRange","first","parseInt","target","last","config","repaint","onChangeLastNote","onChangeOctaves","octaves","onChangeDuration","duration","onChangePauseTime","pauseTime","onChangeInstrument","range","onChangeInstrumentSet","instrumentSet","length","map","showPitch","setShow","newProps","_this3","midiNumbersToNotes","MidiNumbers","NATURAL_MIDI_NUMBERS","reduce","obj","getAttributes","note","_this$props$config","PianoConfig_AutoblurSelect","disabled","key","i","j","react_select_esm","closeMenuOnSelect","components","makeAnimated","defaultValue","isMulti","options","classNamePrefix","instrumentList","id","type","window","AudioContext","webkitAudioContext","instrument_list","fromNote","Keyboard","numberOfNotes","min","max","songDone","console","warn","timeoutID","instruments","nextNote","activeNotesIndex","isPlaying","instrumentMin","firstAndLastNote","instrumentMax","tasti","document","getElementsByClassName","classList","contains","style","backgroundColor","borderColor","setPlaying","generate","arguments","undefined","generateSong","timeoutCallback","nextCallback","index","lables","getElementById","border","song","setPressedPlay","clearTimeout","setTimeout","playbackIntervalFn","list","filter","indexOf","Math","floor","random","_ref","shuffle","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","instrument_data","v","_iterator","Symbol","iterator","next","done","_ret","err","return","newsong","keys","octaveJump","startingNote","push","getInstrumentFromNote","interval_idx","randomJump","setSong","array","keyboard_SoundfontProvider","_ref2","_ref3","keyboard_DimensionsProvider","_ref4","react_piano_esm","activeNotes","width","keyboard_PianoConfig","class","extractMin","height","classNames","btn-success","btn-danger","btn-warning","onClick","btn-secondary","restart","NoteGuess","selectedOption","handleChange","check","select","toCompare","answer","isPlayng","reset","selected","focus","float","distances","Solution","handleClick","path","activeComponent","handleKeyPress","addEventListener","removeEventListener","arr1","arr2","notes","item","dist","arraysEqual","term","solution_NoteGuess_NoteGuess","Main","takePlay","bind","assertThisInitialized","takeSong","src","require","href","padding","components_keyboard_Keyboard","components_solution_Solution","currentNote","Boolean","location","match","ReactDOM","components_main_Main","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.fb97b5fc.chunk.js","sourcesContent":["import React from 'react';\nimport Dimensions from 'react-dimensions';\n\nclass DimensionsProvider extends React.Component {  \n  \n  render() {\n    return (\n      <div>\n        {this.props.children({\n          containerWidth: this.props.containerWidth,\n          containerHeight: this.props.containerHeight,\n        })}\n      </div>\n    );\n  }\n}\n\nexport default Dimensions()(DimensionsProvider);\n","// See https://github.com/danigb/soundfont-player\n// for more documentation on prop options.\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Soundfont from 'soundfont-player';\n\nclass SoundfontProvider extends React.Component {\n  static propTypes = {\n    instrumentName: PropTypes.string.isRequired,\n    hostname: PropTypes.string.isRequired,\n    format: PropTypes.oneOf(['mp3', 'ogg']),\n    soundfont: PropTypes.oneOf(['MusyngKite', 'FluidR3_GM']),\n    audioContext: PropTypes.instanceOf(window.AudioContext),\n    onLoad: PropTypes.func,\n    render: PropTypes.func,\n  };\n\n  static defaultProps = {\n    format: 'mp3',\n    soundfont: 'MusyngKite',\n    // instrumentName: 'viola',\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeAudioNodes: {},\n      instrument: null,\n    };\n  }\n\n  componentDidMount() {\n    this.loadInstrument(this.props.instrumentName);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.instrumentName !== this.props.instrumentName) {\n      this.loadInstrument(this.props.instrumentName);\n    }\n\n    if (prevState.instrument !== this.state.instrument) {\n      if (!this.props.onLoad) {\n        return;\n      }\n      this.props.onLoad({\n        playNote: this.playNote,\n        stopNote: this.stopNote,\n        stopAllNotes: this.stopAllNotes,\n      });\n    }\n  }\n\n\n\n\n\n  loadInstrument = (instrumentName) => {\n    // Re-trigger loading state\n\n\n   \n\n\n\n    Soundfont.instrument(this.props.audioContext, instrumentName, {\n      format: this.props.format,\n      soundfont: this.props.soundfont,\n      nameToUrl: (name, soundfont, format) => {\n        return `${this.props.hostname}/${soundfont}/${name}-${format}.js`;\n      },\n    }).then((instrument) => {\n      // let c = document.getElementsByClassName(\"lds-dual-ring\")[0]\n      //    if (c != undefined) {\n      //     c.className = \"not-lds-dual-ring\"\n      //     c.innerHTML = \"\"\n      //   }\n      this.setState({\n        instrument,\n      });\n\n    });\n\n    // let c = document.getElementsByClassName(\"lds-dual-ring\")[0]\n    //      if (c != undefined) {\n    //       c.className = \"not-lds-dual-ring\"\n    //     }\n  };\n\n  playNote = (midiNumber) => {\n    this.resumeAudio().then(() => {\n      const audioNode = this.state.instrument.play(midiNumber);\n      this.setState({\n        activeAudioNodes: Object.assign({}, this.state.activeAudioNodes, {\n          [midiNumber]: audioNode,\n        }),\n      });\n    });\n  };\n\n  stopNote = (midiNumber) => {\n    this.resumeAudio().then(() => {\n      if (!this.state.activeAudioNodes[midiNumber]) {\n        return;\n      }\n      const audioNode = this.state.activeAudioNodes[midiNumber];\n      audioNode.stop();\n      this.setState({\n        activeAudioNodes: Object.assign({}, this.state.activeAudioNodes, { [midiNumber]: null }),\n      });\n    });\n  };\n\n  resumeAudio = () => {\n    if (this.props.audioContext.state === 'suspended') {\n      return this.props.audioContext.resume();\n    } else {\n      return Promise.resolve();\n    }\n  };\n\n  // Clear any residual notes that don't get called with stopNote\n  stopAllNotes = () => {\n    this.props.audioContext.resume().then(() => {\n      const activeAudioNodes = Object.values(this.state.activeAudioNodes);\n      activeAudioNodes.forEach((node) => {\n        if (node) {\n          node.stop();\n        }\n      });\n      this.setState({\n        activeAudioNodes: {},\n      });\n    });\n  };\n\n  render() {\n    return this.props.render\n    ? this.props.render({\n      isLoading: !this.state.instrument,\n      playNote: this.playNote,\n      stopNote: this.stopNote,\n      stopAllNotes: this.stopAllNotes,\n    })\n    : null;\n  }\n}\n\nexport default SoundfontProvider;\n","import React from 'react';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/lib/animated';\n\nimport { MidiNumbers } from 'react-piano';\nimport {Checkbox, CheckboxGroup} from 'react-checkbox-group';\n\n\nconst intervals = [\n{value : \"12\", label : '8p ' ,isFixed: true},\n{value : \"11\", label : '7+ ' ,isFixed: true},\n{value : \"10\", label : '7- ' ,isFixed: true},\n{value : \"9\" , label : '6+ ' ,isFixed: true},\n{value : \"8\" , label : '6- ' ,isFixed: true},\n{value : \"7\" , label : '5p ' ,isFixed: true},\n{value : \"6\" , label : 'tr ' ,isFixed: true},\n{value : \"5\" , label : '4p ' ,isFixed: true},\n{value : \"4\" , label : '3+ ' ,isFixed: true},\n{value : \"3\" , label : '3- ' ,isFixed: true},\n{value : \"2\" , label : '2+ ' ,isFixed: true},\n{value : \"1\" , label : '2- ' ,isFixed: true},\n];\n\nfunction Label(props) {\n  return <small className=\"mb-1 text-muted\">{props.children}</small>;\n}\n\nclass AutoblurSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.selectRef = React.createRef();\n  }\n\n  onChange = (event) => {\n    this.props.onChange(event);\n    this.selectRef.current.blur();\n  };\n\n  render() {\n    const { children, onChange, ...otherProps } = this.props;\n    return (\n      <select {...otherProps} onChange={this.onChange} ref={this.selectRef}>\n      {children}\n      </select>\n      );\n  }\n}\n\nclass PianoConfig extends React.Component {\n\n  state = {\n    showInstrument : false,\n  }\n\n  intervalsChanged = (newIntervals) => {\n    this.props.setConfig({\n      intervals : newIntervals\n    });\n  }\n\n  componentWillReceiveProps (newProps) {\n    if( newProps.config !== this.props.config ) {\n      this.props.repaint();\n    }\n  }\n\n  // repaint = (userMin,userMax) => {\n  //   let instrumentMin = this.props.minMaxNote[0];\n  //   let instrumentMax = this.props.minMaxNote[1];\n  //   let min = instrumentMin < userMin ? userMin :instrumentMin\n  //   let max = instrumentMax > userMax ? userMax : instrumentMax\n  //   // console.log('instrumentMax : ' + instrumentMax ) \n  //   // console.log('instrumentMin : ' + instrumentMin ) \n\n\n  //   let tasti = document.getElementsByClassName(\"ReactPiano__Keyboard\")[0].getElementsByClassName(\"ReactPiano__Key\");\n\n  //   // for in the array of tasti\n  //   for(let i = 0; i < tasti.length; i++){\n  //     // if is a natural key\n  //     if(tasti[i].classList.contains(\"ReactPiano__Key--natural\")){\n\n  //     // if is out of register \n  //     if(i< min-24||i>max-24){\n  //       tasti[i].style.backgroundColor=\"rgb(216, 221, 232)\";\n  //      } else { // if is in the register \n  //       tasti[i].style.backgroundColor=\"white\";\n  //     }\n\n  //   // if is an accidental key\n  // } else if(tasti[i].classList.contains(\"ReactPiano__Key--accidental\")){\n  //       // if is out of register \n  //       if(i< min-24||i>max-24){\n  //         tasti[i].style.backgroundColor=\"rgb(216, 221, 232)\";\n  //         tasti[i].style.borderColor=\"#555\";\n  //       } else { // if is in the register\n  //         tasti[i].style.backgroundColor=\"#555\";\n  //       }\n  //     }\n\n  //   }\n  // }  \n\n  onChangeFirstNote = (event) => {\n\n    this.props.setConfig({\n      noteRange: {\n        first: parseInt(event.target.value, 10),\n        last: this.props.config.noteRange.last,\n      },\n    });\n\n    this.props.repaint();\n  };\n\n  onChangeLastNote = (event) => {\n    this.props.setConfig({\n      noteRange: {\n        first: this.props.config.noteRange.first,\n        last: parseInt(event.target.value, 10),\n      },\n    });\n\n    this.props.repaint();\n  };\n\n  onChangeOctaves = (event) => {\n    this.props.setConfig({\n      octaves: event.target.value\n    });\n  };\n\n  onChangeDuration = (event) => {\n    this.props.setConfig({\n      duration: event.target.value\n    });\n  };\n\n\n  onChangePauseTime = (event) => {\n    this.props.setConfig({\n      pauseTime: event.target.value\n    });\n  }\n\n  onChangeInstrument = (event) => {\n    this.props.setConfig({\n      instrumentName: event.value,\n      noteRange: {\n        first: event.range['first'],\n        last: event.range['last']\n      }\n    });\n  };\n\n\n  onChangeInstrumentSet = (event) => {  \n\n    //console.log(event.length);\n\n    this.props.setConfig({\n      instrumentSet: (event.length>0)?  event.map(value => value['value']) : [\"acoustic_grand_piano\"]\n    }) \n    this.props.repaint();\n    // console.log(this.props.config.instrumentSet);\n    // NOTIFY\n    //this.repaint();  \n  };\n\n  showInstrument = (event) => {\n    this.setState({\n      showInstrument : !this.state.showInstrument\n    });\n  }\n\n  showPitch = (event) => {\n    this.setState({\n      showPitch : !this.state.showPitch\n    });\n    this.props.setShow(\n      !this.state.showPitch\n      );\n  }\n\n  render() {\n    var style_font_size = {\n      fontSize: \"200\"\n    };\n\n\n    var divStyle = { padding : \"5px\"};\n\n    const midiNumbersToNotes = MidiNumbers.NATURAL_MIDI_NUMBERS.reduce((obj, midiNumber) => {\n      obj[midiNumber] = MidiNumbers.getAttributes(midiNumber).note;\n      return obj;\n    }, {});\n    const { noteRange, instrumentName, duration, pauseTime, octaves } = this.props.config;\n\n    return (\n      <div>\n\n   \n\n      <div className=\"form-row\" >\n\n    {/*first Note*/}\n    <div className=\"col-3\">\n    <Label>set register lowest pitch</Label>\n    <AutoblurSelect\n    className=\"form-control\"\n    onChange={this.onChangeFirstNote}\n    value={noteRange.first} >\n    {MidiNumbers.NATURAL_MIDI_NUMBERS.map((midiNumber) => (\n      <option value={midiNumber} disabled={midiNumber >= noteRange.last-11 || midiNumber < 24} key={midiNumber}>\n      {midiNumbersToNotes[midiNumber]}\n      </option>\n      ))}\n    </AutoblurSelect>\n    </div>\n\n  {/*Last note*/}\n  <div className=\"col-3\">\n  <Label>set register highest pitch</Label>\n  <AutoblurSelect\n  className=\"form-control\"\n  onChange={this.onChangeLastNote}\n  value={noteRange.last}\n  >\n  {MidiNumbers.NATURAL_MIDI_NUMBERS.map((midiNumber) => (\n    <option \n    value={midiNumber} \n    disabled={midiNumber <= noteRange.first+11 || midiNumber > 107} \n    key={midiNumber}>\n    {midiNumbersToNotes[midiNumber]}\n    </option>\n    ))}\n  </AutoblurSelect>\n  </div>\n\n{/* Duration */}\n<div className=\"col-3\">\n<Label>set pitch duration units</Label>\n<AutoblurSelect className=\"form-control\" onChange={this.onChangeDuration} value={duration}>\n{\n  [1,2,3,4,5].map((i,j) => {\n   return <option value={j+1}  key={j}>\n   {i}\n   </option>\n })\n}\n</AutoblurSelect>\n</div>\n\n{/*Time between two notes*/}\n<div className=\"col-3\">\n<Label>set pause duration units</Label>\n<AutoblurSelect\nclassName=\"form-control\" \nonChange={this.onChangePauseTime} \nvalue={pauseTime}>\n{\n  [0,1,2,3,4,5,6].map((i,j) => {\n   return <option value={j+1}  key={j}>\n   {i}\n   </option>\n })\n}\n</AutoblurSelect>\n</div>\n\n\n\n\n</div>\n\n<hr/>\n\n<div className=\"form-row\">\n\n{/*Intervals*/}\n<div className=\"col-8\">\n<Label>set intervals</Label>\n<Select\nonChange={this.intervalsChanged}\ncloseMenuOnSelect={false}\ncomponents={makeAnimated()}\ndefaultValue={intervals[5]}\nisMulti\nname=\"InstrumentSet\"\noptions={intervals}\nclassName=\"basic-multi-select\"\nclassNamePrefix=\"select\" />\n</div>      \n\n\n{/*Max distance between two pitches*/}\n<div className=\"col-4\">\n<Label>set max distance between two pitches</Label>\n<AutoblurSelect \nclassName=\"form-control\" onChange={this.onChangeOctaves} value={octaves} \n>\n{\n  [\"1 octave\",\"2 octaves\",\"3 octaves\",\"4 octaves\",\"5 octaves\"].map((i,j) => { \n    // console.log(j+ \"i am j\")\n    // console.log((this.props.config.noteRange.last - this.props.config.noteRange.first)/12+ \"i am octaverange\")\n    if ((this.props.config.noteRange.last - this.props.config.noteRange.first)/12 > j+1 ){\n     return <option value={j+1}  key={j} >\n     {i}\n     </option>\n   }\n })\n}\n</AutoblurSelect>\n</div>\n\n</div>\n\n<hr/>\n\n{/*Instrument set*/}\n<Label>set instruments</Label>\n\n<Select\nonChange={this.onChangeInstrumentSet}\ncloseMenuOnSelect={false}\ncomponents={makeAnimated()}\ndefaultValue={this.props.instrumentList[1]}\nisMulti\nname=\"InstrumentSet\"\noptions={this.props.instrumentList}\nclassName=\"basic-multi-select\"\nclassNamePrefix=\"select\"\n/>\n\n<hr/>\n\n<div className=\"form-row\" id=\"myCheckBox\">\n<div className=\"col-6\">\n<input type=\"checkbox\" onChange={this.showPitch} />\n<Label>{' '} show pitches on the keyboard {' '}</Label>\n</div>\n<div className=\"col-6\">\n<input type=\"checkbox\" onChange={this.showInstrument} />\n<Label>{' '} show instrument played {' '}</Label>\n{ this.state.showInstrument ? <Label>{this.props.instrumentName}</Label> :  null}\n</div>\n</div>\n</div>\n);\n  }\n}\n\nexport default PianoConfig;\n","import React from 'react';\nimport { Piano, MidiNumbers } from 'react-piano';\n// import 'react-piano/dist/styles.css';\nimport classNames from 'classnames';\nimport DimensionsProvider from './DimensionsProvider';\nimport SoundfontProvider from './SoundfontProvider';\nimport PianoConfig from './PianoConfig';\n\nimport './Keyboard.css';\nimport './Keyboard_less.css'; \n\n\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\nconst soundfontHostname = 'https://d1pzp51pvbm36p.cloudfront.net';\n\nconst instrument_list_r= [\n  \"oboe\", // Bb3 - G6\n  \"piccolo\", // D5 - C8\n  ] \n  var instrument_list = [\n  { value: 'accordion', label: 'accordion', isFixed: true, range:                           { first: MidiNumbers.fromNote('f2'), last: MidiNumbers.fromNote('a7') } }, // F2 - A6\n  { value: 'acoustic_grand_piano', label: 'grand piano', isFixed: true, range:              { first: MidiNumbers.fromNote('a0'), last: MidiNumbers.fromNote('c8') } }, // A0 - C8\n  { value: 'acoustic_guitar_nylon', label: 'classical guitar', isFixed: true, range:        { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'acoustic_guitar_steel', label: 'acoustic guitar', isFixed: true, range:         { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'alto_sax', label: 'alto_sax', isFixed: true, range:                             { first: MidiNumbers.fromNote('c3#'), last: MidiNumbers.fromNote('g5') } }, // C#3 - G#5 \n  { value: 'banjo', label: 'banjo', isFixed: true, range:                                   { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('a4') } }, // C3 - A4\n  { value: 'baritone_sax', label: 'baritone sax', isFixed: true, range:                     { first: MidiNumbers.fromNote('c2#'), last: MidiNumbers.fromNote('g4') } }, // C#2 - G#4\n  { value: 'bassoon', label: 'bassoon', isFixed: true, range:                               { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('e5') } },// Bb1 - Eb5 \n  { value: 'celesta', label: 'celesta', isFixed: true, range:                               { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('b7') } }, // C3 - F8\n  { value: 'cello', label: 'cello', isFixed: true, range:                                   { first: MidiNumbers.fromNote('c2'), last: MidiNumbers.fromNote('a5') } }, // C2 - A5   \n  { value: 'church_organ', label: 'church organ', isFixed: true, range:                     { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('c7') } }, // C1 - C7\n  { value: 'clarinet', label: 'clarinet', isFixed: true, range:                             { first: MidiNumbers.fromNote('d3'), last: MidiNumbers.fromNote('b6') } }, // D3 - Bb6\n  { value: 'contrabass', label: 'contrabass', isFixed: true, range:                         { first: MidiNumbers.fromNote('e1'), last: MidiNumbers.fromNote('g4') } }, // E1 - G4\n  { value: 'distortion_guitar', label: 'distortion guitar', isFixed: true, range:           { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'electric_guitar_clean', label: 'electric guitar', isFixed: true, range:         { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('b6') } }, // E2 - B6\n  { value: 'electric_piano_1', label: 'electric piano ', isFixed: true, range:              { first: MidiNumbers.fromNote('a0'), last: MidiNumbers.fromNote('c8') } },\n  { value: 'english_horn', label: 'english horn', isFixed: true, range:                     { first: MidiNumbers.fromNote('e3'), last: MidiNumbers.fromNote('b5') } }, // E3 - B5\n  { value: 'flute', label: 'flute', isFixed: true, range:                                   { first: MidiNumbers.fromNote('b3'), last: MidiNumbers.fromNote('d7') } }, // B3 - D7\n  { value: 'french_horn', label: 'horn', isFixed: true, range:                              { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('f5') } }, // B1 - F5\n  { value: 'glockenspiel', label: 'glockenspiel', isFixed: true, range:                     { first: MidiNumbers.fromNote('f5'), last: MidiNumbers.fromNote('d8') } }, // F5 - D8\n  { value: 'lead_1_square', label: 'lead 1 square', isFixed: true, range:                   { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'lead_2_sawtooth', label: 'lead 2 sawtooth', isFixed: true, range:               { first: MidiNumbers.fromNote('c1'), last: MidiNumbers.fromNote('b7') } },\n  { value: 'marimba', label: 'marimba', isFixed: true, range:                               { first: MidiNumbers.fromNote('c2'), last: MidiNumbers.fromNote('c7') } }, // C2 - C7\n  { value: 'oboe', label: 'oboe', isFixed: true, range:                                     { first: MidiNumbers.fromNote('b3'), last: MidiNumbers.fromNote('g6') } }, // Bb3 - G6\n  { value: 'piccolo', label: 'piccolo', isFixed: true, range:                               { first: MidiNumbers.fromNote('d5'), last: MidiNumbers.fromNote('c8') } }, // D5 - C8\n  { value: 'recorder', label: 'recorder', isFixed: true, range:                             { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('g6') } }, // F3 - G6\n  { value: 'soprano_sax', label: 'soprano sax', isFixed: true, range:                       { first: MidiNumbers.fromNote('g3#'), last: MidiNumbers.fromNote('d6#') } }, // G#3 - D6#\n  { value: 'tenor_sax', label: 'tenor sax', isFixed: true, range:                           { first: MidiNumbers.fromNote('g2#'), last: MidiNumbers.fromNote('d6#') } }, // G#2 - D#6\n  { value: 'timpani', label: 'timpani', isFixed: true, range:                               { first: MidiNumbers.fromNote('b1'), last: MidiNumbers.fromNote('c4') } }, // B1 - C4\n  { value: 'trombone', label: 'trombone', isFixed: true, range:                             { first: MidiNumbers.fromNote('e2'), last: MidiNumbers.fromNote('f5') } }, // E2 - F5\n  { value: 'trumpet', label: 'trumpet', isFixed: true, range:                               { first: MidiNumbers.fromNote('f3#'), last: MidiNumbers.fromNote('c6') } }, // F#3 - C6\n  { value: 'tuba', label: 'tuba', isFixed: true, range:                                     { first: MidiNumbers.fromNote('d1'), last: MidiNumbers.fromNote('g4') } }, // D1 - G4\n  { value: 'tubular_bells', label: 'tubular bells', isFixed: true, range:                   { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('f5') } }, // F3 - F5\n  { value: 'vibraphone', label: 'vibraphone', isFixed: true, range:                         { first: MidiNumbers.fromNote('f3'), last: MidiNumbers.fromNote('f6') } }, // F3 - F6\n  { value: 'viola', label: 'viola', isFixed: true, range:                                   { first: MidiNumbers.fromNote('c3'), last: MidiNumbers.fromNote('a6') } }, // C3 - A6\n  { value: 'violin', label: 'violin', isFixed: true, range:                                 { first: MidiNumbers.fromNote('g3'), last: MidiNumbers.fromNote('a7') } }, // G3 - A7\n  { value: 'xylophone', label: 'xylophone', isFixed: true, range:                           { first: MidiNumbers.fromNote('f4'), last: MidiNumbers.fromNote('c8') } } // F4 - C8\n  ]\n  var mario = [\n  [76], [73], [65],\n  [76], [65], [40], [65], [76], [65], [40], [65], [72], [65], [76], [65], [40], [65], [79], [65], [40], [36], [67], [65], [40], [36], [72], [65], [40], [24], [67], [65], [40], [24], [64], [65], [40], [24], [69], [65], [40], [65], [71], [65], [40], [65], [70], [65], [69], [65], [40], [65], [67], [16], [76], [16], [79], [16], [81], [65], [40], [65], [77], [65], [79], [65], [40], [65], [76], [65], [40], [65], [72], [65], [74], [65], [71], [65], [40], [24], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [55], [65], [76], [65], [40], [65], [84], [65], [40], [65], [84], [65], [84], [65], [55], [65], [40], [65], [48], [65], [40], [65], [79], [65], [78], [65], [77], [65], [75], [65], [60], [65], [76], [65], [53], [65], [68], [65], [69], [65], [72], [65], [60], [65], [69], [65], [72], [65], [74], [65], [48], [65], [40], [65], [75], [24], [40], [65], [74], [24], [40], [65], [72], [24], [40], [42], [55], [42], [55], [42], [40], [42], [48], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [76], [42], [55], [42], [40], [24], [48], [42], [40], [24], [43], [42], [40], [42], [72], [42], [72], [42], [40], [42], [72], [42], [40], [42], [72], [42], [74], [42], [40], [42], [76], [42], [72], [42], [40], [42], [69], [42], [67], [42], [40], [42], [43], [42], [40], [42], [76], [42], [76], [42], [40], [42], [76], [42], [40], [42], [72], [42], [76], [42], [40], [42], [79], [42], [40], [36], [67], [42], [40], [36], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [16], [81], [16], [81], [16], [81], [16], [79], [16], [77], [16], [76], [42], [72], [42], [55], [42], [69], [42], [67], [42], [60], [42], [55], [42], [40], [42], [76], [42], [72], [42], [40], [42], [67], [42], [55], [42], [40], [42], [68], [42], [40], [42], [69], [42], [77], [42], [53], [42], [77], [42], [69], [42], [60], [42], [53], [42], [40], [42], [71], [42], [77], [42], [40], [42], [77], [42], [77], [16], [76], [16], [74], [16], [72], [42], [64], [42], [55], [42], [64], [42], [60], [42], [40], [36], [72], [42], [40], [24], [67], [42], [40], [24], [64], [24], [69], [16], [71], [16], [69], [16], [68], [24], [70], [24], [68], [24], [67], [42], [65], [42], [67], [48]\n  ];\n\n  class Keyboard extends React.Component {\n    state = {\n      numberOfNotes : 8,\n      min : MidiNumbers.fromNote('a0'),\n      max : MidiNumbers.fromNote('c8'),\n      songDone:false,\n      showPitch:false,\n      stopAllNotes: () => console.warn('stopAllNotes not yet loaded'),\n      playNote: true,\n      timeoutID: null,\n      instruments: [],\n      nextNote: [],\n      activeNotesIndex: -1,\n      isPlaying: false,\n      config: {\n        instrumentSet: ['acoustic_grand_piano'],\n        octaves: 1,\n        pauseTime: 0,\n        duration: 1,\n        intervals: [{value : 5}],\n        instrumentName: 'acoustic_grand_piano',\n        noteRange: {\n          first: MidiNumbers.fromNote('c1'),\n          last: MidiNumbers.fromNote('b7'),\n        },\n      },\n    };\n\n    constructor(props) {\n      super(props);\n      this.playbackIntervalFn = null;\n    };\n\n    repaint = () => {\n      let instrumentMin = this.firstAndLastNote()[0];\n      let instrumentMax = this.firstAndLastNote()[1];\n      let min = instrumentMin < this.state.config.noteRange.first ? this.state.config.noteRange.first :instrumentMin\n      let max = instrumentMax > this.state.config.noteRange.last ? this.state.config.noteRange.last : instrumentMax\n      this.setState({min:min,max:max})\n      //console.log( \"min: \", this.state.min)\n      //console.log( \"max: \", this.state.max)\n\n      //let dup = {this.state.config};\n      // console.log(dup)\n      // dup.noteRange.first = min;\n      // dup.noteRange.last = max;\n      // this.setState({config: dup});\n\n\n    // console.log('instrumentMax : ' + instrumentMax ) \n    // console.log('instrumentMin : ' + instrumentMin ) \n\n\n    let tasti = document.getElementsByClassName(\"ReactPiano__Keyboard\")[0].getElementsByClassName(\"ReactPiano__Key\");\n    \n    // for in the array of tasti\n    for(let i = 0; i < tasti.length; i++){\n      // if is a natural key\n      if(tasti[i].classList.contains(\"ReactPiano__Key--natural\")){\n\n      // if is out of register \n      if(i< min-24||i>max-24){\n        tasti[i].style.backgroundColor=\"rgb(216, 221, 232)\";\n       } else { // if is in the register \n        tasti[i].style.backgroundColor=\"\";\n      }\n\n    // if is an accidental key\n  } else if(tasti[i].classList.contains(\"ReactPiano__Key--accidental\")){\n        // if is out of register \n        if(i< min-24||i>max-24){\n          tasti[i].style.backgroundColor=\"rgb(216, 221, 232)\";\n          tasti[i].style.borderColor=\"#555\";\n        } else { // if is in the register\n          tasti[i].style.backgroundColor=\"\";\n        }\n      }\n\n    }\n  }  \n\n  firstAndLastNote() {\n    //if list is empty we use piano\n    if (this.state.config.instrumentSet.length == 0) {\n      return [MidiNumbers.fromNote('c1'), MidiNumbers.fromNote('b7')]\n    }\n    let list = instrument_list.filter(value => -1 !== this.state.config.instrumentSet.indexOf(value['value']));\n\n    let min = list.reduce((min, value) => value['range']['first'] < min ? value['range']['first'] : min, list[0]['range']['first']);\n    // console.log(\"min : \", min);\n\n    let max = list.reduce((max, value) => value['range']['last'] > max ? value['range']['last'] : max, list[0]['range']['last']);\n    // console.log(\"max : \", max);\n    return [min, max];\n  }\n\n  shuffle(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n  }\n\n  getInstrumentFromNote(note) {\n    let instruments = this.shuffle(this.state.config.instrumentSet);\n\n    for (let instrument of instruments) {\n      var instrument_data = instrument_list.filter(obj => {\n        return obj.value === instrument\n      })\n      if (instrument_data[0].range.last >= note && instrument_data[0].range.first <= note) {\n        //  console.log(\"instrument_data\",instrument_data);\n        //  console.log(instrument_data[0].value)\n        // ALWAYS RETURN PIANOOOO\n        return instrument_data[0].value\n      }\n    }\n\n    return instrument_list[1].value;\n  }\n\n  generateSong() {\n    const newsong = [];\n    const instruments = [];\n\n    // //  extract the intervals \n    var keys = Object.keys(this.state.config.intervals)\n\n    // //  extract the note range from instrumentSet\n    //let range = this.firstAndLastNote();\n\n    let range = [this.state.min, this.state.max]\n\n    // // extract octaves\n    let octave = Math.floor(Math.random() * this.state.config.octaves) ;\n    let octaveJump = octave*12\n    // console.log(\"octaveJump \",octaveJump)\n\n\n    // // select a random note between the first and the last\n    let startingNote = Math.floor(Math.random() * (range[1] - range[0]) + range[0])\n    newsong.push([startingNote]);\n\n    // // select an instument to play the note\n    instruments.push(this.getInstrumentFromNote(startingNote));\n\n    for (let i = 0; i < this.state.numberOfNotes; i++) {\n      // jumping value\n      let interval_idx = Math.floor(Math.random() * this.state.config.intervals.length);\n      let randomJump = 7;\n      if (this.state.config.intervals.length > 0) {\n        randomJump = parseInt(this.state.config.intervals[interval_idx].value);\n      }\n\n      // randomly add intervarls \n      if (Math.random() > 0.5) {\n        if (startingNote - randomJump < range[0]) {\n          startingNote += randomJump\n          if (startingNote + octaveJump < range[1] ){\n            // console.log('alzato di ' + octaveJump)\n            startingNote += octaveJump\n          }\n          // console.log(\"startingNote += randomJump\")\n        } else {\n          startingNote -= randomJump\n          if (startingNote - octaveJump > range[0] ){\n            // console.log('abbassato di ' + octaveJump)\n            startingNote -= octaveJump\n          }\n          // console.log(\"startingNote -= randomJump\")\n        }\n      }\n      else {\n        if (startingNote + randomJump > range[1]) {\n          startingNote -= randomJump\n          if (startingNote - octaveJump > range[0] ){\n            // console.log('abbassato di ' + octaveJump)\n            startingNote -= octaveJump\n          }\n          // console.log(\"startingNote -= randomJump\")\n        } else {\n          startingNote += randomJump\n          if (startingNote + octaveJump < range[1] ){\n            // console.log('alzato di ' + octaveJump)\n            startingNote += octaveJump\n          }\n          // console.log(\"startingNote += randomJump\")\n        }\n      }\n\n      // add octaves\n\n\n      newsong.push([startingNote]);\n      instruments.push(this.getInstrumentFromNote(startingNote));\n    }\n    // console.log('instruments : ', instruments)\n    this.setState({\n      instruments: instruments\n    })\n\n    // console.log(instruments);\n    // console.log(newsong);\n\n    this.props.setSong(newsong);\n    this.setState({ activeNotesIndex: -1, nextNote: [] });\n  };\n\n //  static getDerivedStateFromProps(nextProps, prevState){\n //   if(nextProps.someValue!==prevState.someValue){\n //     console.log('aggiornato')\n //   }\n //   else return null;\n // }\n\n\n restart() {\n  this.setPlaying(true, false);\n  this.setState({\n    playNote : true,\n    songDone: false\n  })\n};\n\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////\n//    funzione abbastanza astrusa e complessa, potrebbe essere rimodellata in una versione futura       // \n//////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nsetPlaying = (value, generate = true) => {\n  if (value) {\n         // let h = document.getElementsByClassName(\"not-lds-dual-ring\")[0]\n         //    if (h != undefined) {\n         //      h.className = \"lds-dual-ring\"\n         //      //questo va modificato in caso tu voglia aggiunger un testo (in caso aggiungi uno stile al testo)\n         //      //h.innerHTML = \"loading sound source\"\n         //    }\n        //clearTimeout(this.state.timeoutID);\n        if (generate) {\n          this.generateSong();\n        }\n        // if set playing then setTimeout with callback\n        const timeoutCallback = (playNote, nextCallback) => {\n          let duration;\n          if (playNote) {\n                // console.log(\"note\",(new Date()).getSeconds())\n                const index = (this.state.activeNotesIndex + 1);\n\n                // label onver current interval\n                let lables = document.getElementById(\"solutions\").getElementsByClassName(\"current\");\n                for (var i = 0; i < lables.length; i++) {\n                  lables[i].style.border = \"thick solid #FFFFFF\";\n                }\n                if (index < this.state.numberOfNotes+1 && index > 0){\n                  lables[index -1 ].style.border = \"thick solid #3877e1\";\n                }\n\n                if (index < this.props.song.length) {\n                    // set state to play note\n                    this.setState({\n                      activeNotesIndex: index,\n                      nextNote: this.props.song[index],\n                    })\n                    // calculate duration\n                    duration = this.state.config.duration * 1000\n                  } else {\n                    // if (this.state.isPlaying) {\n                    //   console.log('cambio di stato')\n                    this.props.setPressedPlay(false);\n                    // }\n                    this.setPlaying(false)\n                    this.setState({\n                      playNote : false,\n                      songDone: true\n                    })\n                  }\n                } else {\n                // set state to play pause\n                this.setState({\n                  nextNote: [-1],\n                })\n                // calculate duration\n                duration = this.state.config.pauseTime * 1000\n              }\n              if (!this.state.songDone){\n                this.setState({\n                 timeoutID: setTimeout(() => nextCallback(!playNote, nextCallback), duration)\n               });\n              } else {\n                clearTimeout(this.state.timeoutID);\n                this.setState({\n                  activeNotesIndex: -1,\n                  //isPlaying: false,\n                });\n              }\n            }\n            this.setState({\n              timeoutID: setTimeout(() => timeoutCallback(true, timeoutCallback), 0)\n            });\n          } else {\n        // at click on start\n        clearTimeout(this.state.timeoutID);\n        this.state.stopAllNotes();\n        this.setState({\n          activeNotesIndex: -1,\n        });\n      }\n    // at click on stop\n    this.setState({\n      isPlaying: value,\n      playNote: true\n    });\n  };\n\n  extractMin(array) {\n    let min = 10000;\n    for (var i = 0; i < array.length; i++) {\n      if (array[i].value<min) {\n        min = parseInt(array[i].value)\n      }\n    }\n    if (array.length == 0 ){ return 7}\n    return min;\n  }\n\n\n  render() {\n\n    return (\n      <div className={this.state.showPitch ? \"show\" : \"\"}>\n      <SoundfontProvider\n      audioContext={audioContext}\n      instrumentName={(this.state.config.instrumentSet.length == 0) ? \"acoustic_grand_piano\" : this.state.instruments[this.state.activeNotesIndex]}\n      hostname={soundfontHostname}\n      onLoad={({ stopAllNotes }) => this.setState({ stopAllNotes })}\n      render={({ isLoading, playNote, stopNote }) => (\n        <div>\n        <DimensionsProvider >\n        {({ containerWidth }) => (\n          <Piano\n          activeNotes={\n            this.state.isPlaying ? this.state.nextNote : []\n          }\n          noteRange={{\n            first: MidiNumbers.fromNote('c1'),\n            last: MidiNumbers.fromNote('b7'),\n          }}\n          playNote={playNote}\n          stopNote={stopNote}\n          disabled={isLoading}\n          width={containerWidth}\n          />\n          )}\n        </DimensionsProvider>\n        <PianoConfig\n        repaint={this.repaint}\n        config={this.state.config}\n        setConfig={(config) => {\n          this.setState({\n            config: Object.assign({}, this.state.config, config),\n          });\n        }}\n        setShow={(showPitch) => \n          this.setState({\n            showPitch \n          })}\n          showPitch={this.state.showPitch}\n          pauseTime={this.state.config.pauseTime}\n          instrumentList={instrument_list}\n          instrumentSet={this.state.config.instrumentSet}\n          instrumentName={(this.state.config.instrumentSet.length == 0) ? \"acoustic_grand_piano\" : this.state.instruments[this.state.activeNotesIndex]}\n          song={this.props.song}\n          activeNotesIndex={this.state.activeNotesIndex}\n          duration={this.state.config.duration}\n          />\n          <br /> \n          <div class=\"not-lds-dual-ring\"></div>\n          <div className=\"form-row\">\n\n          <div className=\"col-6\">\n         \n\n          <button \n          disabled={this.state.max - this.state.min < this.extractMin(this.state.config.intervals)}\n          style={{ height: '50px ' }}\n          className={classNames('btn-block', {\n            'btn-success': !this.state.isPlaying,\n            'btn-danger': this.state.isPlaying,\n            'btn-warning' : this.state.max - this.state.min < this.extractMin(this.state.config.intervals)\n          })}\n          onClick={() => {\n            if (!this.state.isPlaying) {\n              //console.log('cambio di stato')\n              this.props.setPressedPlay(true);\n            } else {\n              this.props.setPressedPlay(false);\n            }\n            \n            this.setState({songDone:false});\n            this.setPlaying(!this.state.isPlaying)\n          }\n        }\n        >\n        {this.state.isPlaying ? 'stop' : 'start'}\n        </button>\n        </div>\n\n        <div className=\"col-6\">\n        <button\n        style={{ height: '50px ' }}\n        className={classNames('btn-block', {\n          'btn-success': !this.state.isPlaying,\n          'btn-secondary': this.state.isPlaying,\n           'btn-warning' : this.state.max - this.state.min < this.extractMin(this.state.config.intervals)\n        })}\n        onClick={() => this.restart()}\n        disabled={this.state.isPlaying || this.state.max - this.state.min < this.extractMin(this.state.config.intervals)}\n        >\n        {'restart'}\n        </button>\n        </div>\n\n        </div>\n\n        </div>\n        )}\n      />\n      </div>\n      );\n\n  };\n\n}\n\nexport default Keyboard;\n\n","import React from 'react';\nimport './NoteGuess.css';\nimport Select from 'react-select';\n\nconst options = [\n\n{ value: '12', label: '8p↑' },\n{ value: '11', label: '7+↑' },\n{ value: '10', label: '7-↑' },\n{ value: '9', label: '6+↑'  },\n{ value: '8', label: '6-↑'  },\n{ value: '7', label: '5p↑'  },\n{ value: '6', label: 'tr↑'  },\n{ value: '5', label: '4p↑'  },\n{ value: '4', label: '3+↑'  },\n{ value: '3', label: '3-↑'  },\n{ value: '2', label: '2+↑'  },\n{ value: '1', label: '2-↑'  },\n\n{ value: '0', label: ' '  },\n\n{ value: '-1', label: '2-↓' },\n{ value: '-2', label: '2+↓' },\n{ value: '-3', label: '3-↓' },\n{ value: '-4', label: '3+↓' },\n{ value: '-5', label: '4p↓' },\n{ value: '-6', label: 'tr↓' },\n{ value: '-7', label: '5p↓' },\n{ value: '-8', label: '6-↓' },\n{ value: '-9', label: '6+↓' },\n{ value: '-10', label: '7-↓'},\n{ value: '-11', label: '7+↓'},\n{ value: '-12', label: '8p↓'},\n];\n\nclass NoteGuess extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.select = React.createRef();\n  }\n\n  state = {\n    selectedOption: null,\n    classNames : `mySelect form-control natural`\n  }\n\n  handleChange = (event) => {\n    //console.log(\"changed in :\",  event.target.value)\n    this.check(event.target.value);\n    this.setState({ selectedOption :  event.target.value });\n  }\n\n  // componentWillReceiveProps(nextProps) {\n  //   if (nextProps.answer !== this.props.answer) {\n  //     this.setState({ classNames : `mySelect form-control natural ` });\n  //   }\n  // }\n\n  check(toCompare){   \n    //console.log(`real answer `,this.props.answer);\n    //console.log(`user answer `,this.state.selectedOption);\n    // console.log( this.props.answer == toCompare);\n    // (this.props.answer == toCompare)? this.setState({ classNames : ` mySelect form-control natural true `}):this.setState({ classNames : `mySelect form-control natural false `}) ;\n\n    if (this.props.answer == toCompare){\n     // console.log('entrato true');\n     this.setState({ classNames : `mySelect form-control true`})\n   } else {\n     // console.log('entrato false');\n     this.setState({ classNames : `mySelect form-control false`}) ;\n   }\n }\n\n componentWillReceiveProps (newProps) {\n  if( newProps.isPlayng !== this.props.isPlayng ) {\n    if (newProps.isPlayng){\n      this.setState({ classNames : `mySelect form-control natural`}) ;\n      document.getElementById(\"solutions\").reset();\n    }\n  }\n}\n\ncomponentDidUpdate(){\n  if (this.props.selected) {\n    this.select.focus();\n  }\n}\n\nrender() {\n\n                // \n            // let divs = document.getElementById(\"solutions\").getElementsByTagName(\"select\");\n\n            // for (var i = 0; i < divs.length; i++) {\n            //   divs[i].className = \"form-control natural mySelect\"\n            // }\n            var divStyle = {\n              float : 'left',\n            };\n\n    //  console.log('renderizzato')\n\n\n\n    return (\n      <div >\n      <div className=\"current\" id = {this.props.id}>\n      </div>\n      <select \n      id = {this.props.id}\n      ref = {this.props.id}\n      style={divStyle} \n      className={this.state.classNames}\n      defaultValue={options[12].value}\n      onChange={this.handleChange} \n      ref={(selected) => { this.select = selected; }}\n      >\n      {\n        options.map((i,v) => {\n          if (v != 12){\n           return <option  value={i.value}  key={i.value} >\n           {i.label}\n           </option>\n         } else {\n           return <option value={i.value}  key={i.value} disabled >\n           {i.label}\n           </option>\n         }\n       })\n      }\n      </select>\n      </div>\n      );\n  }\n}\n\nexport default NoteGuess;","import React from 'react';\nimport NoteGuess from './NoteGuess/NoteGuess';\nimport classNames from 'classnames';\nimport './Solution.css';\n\n\nvar distances = [2];\n\nclass Solution extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      activeComponent: 0\n    }\n  }\n\n  handleClick = (event) => {\n    if (parseInt(event.path[0].id) < 9 && parseInt(event.path[0].id) >= 0){\n      this.setState({\n          activeComponent : parseInt(event.path[0].id)\n        });\n    }\n    \n  }\n\n  handleKeyPress = (event) => {\n    if (event.key == 'ArrowLeft') {\n      if (this.state.activeComponent > 0){\n        this.setState({\n          activeComponent : this.state.activeComponent - 1\n        });\n      }\n    }\n    else if (event.key == 'ArrowRight') {\n      if (this.state.activeComponent < this.props.song.length-1){\n        this.setState({\n          activeComponent : this.state.activeComponent + 1\n        });\n      }\n    };\n  } \n\n  componentDidMount(){\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n    window.addEventListener(\"click\", this.handleClick);\n  }\n\n\n  componentWillUnmount(){\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n    window.removeEventListener(\"click\", this.handleClick);\n  }\n\n  arraysEqual(arr1, arr2) {\n    if(arr1.length !== arr2.length)\n        return false;\n    for(var i = arr1.length; i--;) {\n        if(arr1[i] !== arr2[i])\n            return false;\n    }\n\n    return true;\n}\n\n  render() {\n    var notes = [];\n    this.props.song.map((item) => {\n      notes.push(item[0]);\n    });\n    var dist = [];\n    for (var i = 0; i < notes.length - 1; i++) {\n      if ((-notes[i]+notes[i+1])%12==0) {\n        if (-notes[i]+notes[i+1]>0){\n          dist.push(12)\n        } else {\n          dist.push(-12)\n        }\n        \n      } else {\n        dist.push((-notes[i]+notes[i+1])%12)\n      }\n    }\n    // console.log(dist)\n    if (!this.arraysEqual(distances,dist)) {\n      distances = dist;\n      // console.log(distances);\n    }    \n\n    \n    return (\n      \n      <form id = \"solutions\" className = \"divDisplay\">\n        {\n          dist.map((term,index) => {\n            return <NoteGuess \n            id={index}\n            key={index}\n            selected = { this.state.activeComponent === index ?  1 : 0}\n            answer = {term} \n            isPlayng = {this.props.isPlayng}\n            />\n          })\n        }\n        \n      </form>\n      );\n  }\n}\n\nexport default Solution;","\n\n// Author : Simone Masiero\n\nimport React from 'react';\nimport './Main.css';\nimport Keyboard from './../keyboard/Keyboard';\nimport Solution from './../solution/Solution';\n\nclass Main extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      song: [[2]],\n      play:false\n    };\n    this.takePlay = this.takePlay.bind(this);\n    this.takeSong = this.takeSong.bind(this);\n  } \n\n  takePlay(play) {\n    // console.log(\"play is \" + play)\n    this.setState({\n      play : play\n    });\n  }\n\n  takeSong(song) {\n    this.setState({\n      song : song\n    });\n  }\n\n   render() {\n    return (\n      <div>\n        <section className=\"presentation\">\n          <div className=\"loghi\">\n            <img className=\"logo\" src={require('./../../logo_conservatorio.png')} />\n            <img className=\"logo\" src={require('./../../logo_lounge_b.png')} />\n          </div>\n          <header className=\"header\">\n            <h1 >S O L O\n              \n            </h1>\n            <h2>ear training web app</h2>\n            <br/>\n            <div >\n            <h3 class=\"presentationText\"> solo is the ear training application of the <a href=\"http://www.conservatorio.ch/it/scuola-universitaria\">Conservatorio della Svizzera Italiana</a>, University of Music (SUPSI).\n            <br/>\n              From an idea of composer <a a href=\"http://www.albertobarberis.it/\">Alberto Barberis </a> \n              and under the supervision of teachers <a href=\"http://www.ivoantognini.com/MUSIC_COMPOSER/home.html\">Ivo Antognini </a> \n              and <a href=\"http://nadirvassena.ch/\"> Nadir Vassena</a>, <br/> SOLO is supported by Spazio21 and it is developed by <a href=\"http://simonemasiero.com/\"> Simone Masiero</a> <br/> under the supervision of <a href=\"https://codelounge.si.usi.ch\">CodeLounge </a> \n              and <a href=\"https://si.usi.ch\">Software Institute </a> at the <a href=\"https://www.usi.ch/it\"> Università della Svizzera Italiana</a> (USI). \n            <br/>\n             </h3>\n              <h3 class=\"presentationText\"> This is the first version and the project is still in development </h3> \n            </div>\n\n              \n          </header>\n          <div className=\"loghiUni\">\n            <img className=\"logoUni\" src={require('./../../logo_SUPSI_60mm_ITA.png')} />\n            <img className=\"logoUni\" src={require('./../../press-usi-logo.png')} style={{padding: \"30px\"}} />\n          </div>\n        </section>\n\n        <section className=\"app\">\n        \n        <div className=\"grid\">\n        \n          <div className=\"item\">\n          <small class=\"mb-1 text-muted\" id='textKeyboard'>\n            selected register\n            </small>\n            <div>\n              <Keyboard\n                song = {this.state.song}\n                setSong = {this.takeSong}\n                setPressedPlay = {this.takePlay}\n              />\n            </div>\n          </div>\n          <div className=\"item\">\n\n          <small id = 'textSolution' className = \"mb-1 text-muted\" > \n            set solutions \n          </small>\n            <div className=\"box\">\n              <Solution\n              song = {this.state.song}\n              isPlayng = {this.state.play}\n              currentNote = {3}/>\n            </div>\n          </div>\n        </div>\n        </section>        \n      </div>\n      );\n  }\n}\n\nexport default Main;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Main from './components/main/Main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Main />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n \n","module.exports = __webpack_public_path__ + \"static/media/logo_conservatorio.3c8194b2.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_lounge_b.c8cd3966.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_SUPSI_60mm_ITA.e9eea8a8.png\";","module.exports = __webpack_public_path__ + \"static/media/press-usi-logo.e4914906.png\";"],"sourceRoot":""}